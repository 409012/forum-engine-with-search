# FEwS — Forum Engine with Search

FEwS — это современный микросервисный движок форумов с поддержкой полнотекстового поиска, событийной индексации и мониторинга. Проект построен на .NET 9 и демонстрирует современные подходы к архитектуре, масштабируемости и наблюдаемости.

## Архитектура

FEwS состоит из двух основных микросервисов:
- **Forums** — сервис управления форумами, темами и сообщениями.
- **Search** — сервис полнотекстового поиска по форумам и их содержимому.

Между сервисами реализовано событийное взаимодействие через Kafka: все изменения в форумах публикуются как события, которые индексируются сервисом поиска.

## Технологии и стек

- **.NET 9, ASP.NET Core** — основа для API и сервисов.
- **Entity Framework Core + PostgreSQL** — хранение данных форумов, миграции, работа с БД.
- **OpenSearch** — полнотекстовый поиск и хранение поискового индекса.
- **Kafka (Confluent.Kafka)** — event-driven взаимодействие между сервисами, асинхронная индексация.
- **gRPC** — высокопроизводительное межсервисное взаимодействие для поиска.
- **MediatR** — реализация паттерна CQRS, обработка команд и запросов.
- **FluentValidation** — валидация входных данных.
- **AutoMapper** — маппинг между слоями и моделями.
- **OpenTelemetry + Jaeger + Prometheus + Grafana** — трассировка, метрики, мониторинг, визуализация.
- **Serilog + Loki** — централизованный сбор и просмотр логов.
- **Docker Compose** — контейнеризация и локальный запуск всей инфраструктуры.

## Как запустить

1. Установите Docker и Docker Compose.
2. В корне репозитория выполните:
   ```sh
   docker compose up -d
   ```
   Это поднимет все необходимые сервисы: БД, Kafka, OpenSearch, мониторинг и т.д.

3. Соберите и запустите микросервисы (Forums, Search, ForumConsumer) через dotnet CLI или вашу IDE.

4. Откройте Swagger UI для тестирования API:
   - Forums: http://localhost:5000/swagger
   - Search: https://localhost:5002/swagger

5. Для мониторинга и логирования доступны:
   - Grafana: http://localhost:3000
   - Jaeger: http://localhost:16686
   - Prometheus: http://localhost:9090
   - OpenSearch Dashboard: http://localhost:5601
   - Kafka UI : http://localhost:8082

## Возможности

- Создание и просмотр форумов и тем.
- Асинхронная индексация новых тем и комментариев.
- Быстрый полнотекстовый поиск по форумам.
- Расширенный мониторинг, трассировка и централизованные логи.
- Масштабируемая событийная архитектура.

## Для чего этот проект

FEwS — pet project для демонстрации:
- Микросервисной архитектуры на .NET
- Event-driven подхода с Kafka
- Интеграции с современными инструментами поиска и мониторинга
- Применения best practices (CQRS, DI, валидация, контейнеризация)
